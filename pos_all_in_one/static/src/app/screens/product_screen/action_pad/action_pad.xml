<?xml version="1.0" encoding="UTF-8"?>
<templates id="pos_template" inherit_id="point_of_sale.template" xml:space="preserve">

	<t t-name="ActionpadWidget" t-inherit="point_of_sale.ActionpadWidget" t-inherit-mode="extension" owl="1">
		<xpath expr="//button[hasclass('pay')]" position="replace">
			<t t-if="pos.get_cashier().is_allow_payments">
				<button class="pay validation pay-order-button btn-primary"
                t-attf-class="{{getMainButtonClasses()}}" 
                t-att-class="{ 'with-more-button': props.onClickMore and ui.isSmall }" 
                t-on-click="props.actionToTrigger ? this.props.actionToTrigger : () => pos.get_order().pay()">
					<div class="pay-circle d-flex align-items-center justify-content-center py-2 mb-2">
						<i class="oi oi-chevron-right" role="img" aria-label="Pay" title="Pay" />
					</div>
					<t class="text-white" t-out="props.actionName" />
				</button>
			</t>
			<t t-else="">
				<button class="pay validation pay-order-button btn-primary"
                t-attf-class="{{getMainButtonClasses()}}" 
                t-att-class="{ 'with-more-button': props.onClickMore and ui.isSmall }" style="cursor: not-allowed;" >
					<div class="pay-circle d-flex align-items-center justify-content-center py-2 mb-2">
						<i class="oi oi-chevron-right" role="img" aria-label="Pay" title="Pay" />
					</div>
					<t class="text-white" t-out="props.actionName" />
				</button>
			</t>
		</xpath> 
		<xpath expr="//button[hasclass('set-partner')]" position="replace">
			<t t-if="pos.get_cashier().is_allow_customer_selection">
				<button class="button set-partner btn btn-light rounded-0 py-2 flex-shrink-1 fw-bolder"
                    t-on-click="() => this.pos.selectPartner()">
					<div class="d-flex justify-content-center align-items-center ">
						<span class="d-flex justify-content-center align-items-center rounded-circle me-2 text-bg-dark" t-if="!ui.isSmall">
							<i class="fa fa-user" role="img" aria-label="Customer" title="Customer" />
						</span>
						<div t-if="props.partner" class="text-truncate fw-bolder text-action">
							<t t-out="props.partner.name" />
						</div>
						<div t-else="fw-bolder">
							Customer
						</div>
					</div>
				</button>
			</t>
			<t t-else="">
				<button class="button set-partner btn btn-light rounded-0 py-2 flex-shrink-1 fw-bolder" style="cursor: not-allowed;">
					<div class="d-flex justify-content-center align-items-center ">
						<span class="d-flex justify-content-center align-items-center rounded-circle me-2 text-bg-dark" t-if="!ui.isSmall">
							<i class="fa fa-user" role="img" aria-label="Customer" title="Customer" />
						</span>
						<div t-if="props.partner" class="text-truncate fw-bolder text-action">
							<t t-out="props.partner.name" />
						</div>
						<div t-else="fw-bolder">
							Customer
						</div>
					</div>
				</button>
			</t>
		</xpath> 
    </t>

	<t t-name="PaymentScreenButtons" t-inherit="point_of_sale.PaymentScreenButtons" t-inherit-mode="extension" owl="1">
		<xpath expr="//button[hasclass('partner-button')]" position="replace">
			<t t-if="env.services.pos.get_cashier().is_allow_customer_selection">
				<button class="button partner-button btn btn-light py-3 text-start rounded-0 border-bottom" 
					t-att-class="{ 'highlight text-bg-primary': currentOrder.get_partner() }" 
					t-on-click="() => this.selectPartner(false, [])">
					<i class="fa fa-user me-2" role="img" title="Customer" />
					<span class="partner-name">
						<t t-if="currentOrder.get_partner()" t-out="currentOrder.get_partner().name"/>
						<t t-else="">Customer</t>
					</span> 
				</button>
			</t>
		</xpath>
	</t>

</templates>
