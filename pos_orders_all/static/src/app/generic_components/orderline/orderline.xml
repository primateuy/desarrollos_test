<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
	<t t-name="BiOrderline" t-inherit="point_of_sale.Orderline" t-inherit-mode="extension" owl="1">
        <xpath expr="//ul[hasclass('info-list')]" position="replace">
            <ul class="info-list ms-2">
                <li class="price-per-unit">
                    <em t-out="line.qty" class="qty fst-normal fw-bolder me-1" /> <t t-if="line.unit" t-out="line.unit" />
                    <t t-if="line.price !== 0"> 
                        x <s t-out="line.oldUnitPrice" t-if="line.oldUnitPrice" /> 
                        <t t-out="line.unitPrice" /> <span t-if="line.unit"> / <t t-out="line.unit" /></span>
                    </t>
                </li>

                <li t-if="line.price !== 0 and line.discount and line.discount > '0'">
                    <t t-if="line.line_discount_type == 'percentage'">
                        With a <em><t t-out="line.discount" />% </em> discount
                    </t>
                    <t t-if="line.line_discount_type == 'fixed'">
                        With a <em><t t-out="line.discount" /></em> discount
                    </t>
                </li>
                <t t-slot="default" />
                <li t-if="line.customerNote" class="customer-note w-100 p-2 my-1 rounded text-break text-bg-warning text-warning bg-opacity-25">
                    <i class="fa fa-sticky-note me-1" role="img" aria-label="Customer Note" title="Customer Note"/>
                    <t t-out="line.customerNote" />
                </li>
                <li t-if="line.internalNote" class="internal-note w-100 p-2 my-1 rounded text-bg-info text-info bg-opacity-25 text-break">
                    <i class="fa fa-tag me-1" role="img" aria-label="Note" title="Note"/>
                    <t t-out="line.internalNote" />
                </li>
                <li t-if="line.attributes">
                    <div t-foreach="line.attributes" t-as="attribute" t-key="attribute.id">
                        <t t-out="attribute.name"/>:
                        <t t-foreach="attribute.valuesForOrderLine" t-as="value" t-key="value.id">
                            <t t-if="value_index !== 0" t-out="' | '"/>
                            <t t-out="value.name"/>
                            <t t-if="value.price_extra">
                                (<t t-out='env.utils.formatCurrency(value.price_extra)'/>)
                            </t>

                        </t><br/>
                    </div>
                </li>
            </ul>
		</xpath>
    </t>
</templates>
